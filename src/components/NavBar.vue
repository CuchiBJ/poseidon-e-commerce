<template>
  <div>
    <v-toolbar
          dark
          prominent
          src="https://cdn.vuetifyjs.com/images/backgrounds/vbanner.jpg"
        >
          
          <v-toolbar-title>Admin Men√∫</v-toolbar-title>

          <v-spacer></v-spacer>

          <v-toolbar-items v-if='isAdmin'>
            <v-list-item><router-link to="/admindash"> Panel </router-link></v-list-item>
            <v-list-item> <router-link to="/productos"> Productos </router-link></v-list-item>
            <v-list-item> Compras </v-list-item>
            <v-list-item><router-link to="/ventas"> Ventas </router-link></v-list-item>
            <v-list-item><router-link to="/clientes"> Clientes </router-link></v-list-item>
            <v-list-item> Proovedores </v-list-item>
            <v-list-item> Configuracion </v-list-item>
          </v-toolbar-items>

          <v-toolbar-items v-else>
            <v-list-item> Home </v-list-item>
            <v-list-item><router-link to="/productos"> Productos </router-link></v-list-item>
            <v-list-item> Compras </v-list-item>
            <v-list-item> Carrito </v-list-item>
          </v-toolbar-items>

          <v-btn icon @click="logout()">
            <v-icon>mdi-export</v-icon>
          </v-btn>
        </v-toolbar>
  </div>
</template>

<script>
  import { auth } from "@/firebase.js";
export default {
  name: "NavBar",
  data() {
    return {
      user: {
        rol:''
      },
    }
  },
  components: {
  },
  computed:{
    isAdmin(){    
      return this.user.rol == "admin";
    }
  },
  async created(){
    if (this.$router.currentRoute.name != "login"){
      this.user = await this.$store.getters.user(this.$store)
    }
  },
  methods: {
    logout(){
      auth.signOut();
      this.$store.commit('saveCurrentUser', null);
      this.$router.push({ name: "Login" });
    }
  }
};
</script>